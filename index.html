<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Infinite Sierpinski Triangle Nesting</title>
  <style>
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="sierpinskiCanvas" width="800" height="800"></canvas>
  <script>
    const canvas = document.getElementById('sierpinskiCanvas');
    const ctx = canvas.getContext('2d');

    const triangleHeight = Math.sqrt(3) / 2;
    const initialSize = 400;

    function drawSierpinski(x, y, size, depth) {
      if (depth === 0) {
        // Draw the equilateral triangle
        const h = size * triangleHeight;
        ctx.beginPath();
        ctx.moveTo(x, y - h / 2);
        ctx.lineTo(x - size / 2, y + h / 2);
        ctx.lineTo(x + size / 2, y + h / 2);
        ctx.closePath();
        ctx.fillStyle = 'black';
        ctx.fill();

        // Draw three smaller triangles inside the main triangle
        const newSize = size / 2;
        const newHeight = newSize * triangleHeight;
        drawSierpinski(x, y - newHeight / 2, newSize, depth - 1);
        drawSierpinski(x - newSize / 2, y + newHeight / 2, newSize, depth - 1);
        drawSierpinski(x + newSize / 2, y + newHeight / 2, newSize, depth - 1);
      } else {
        // Recursively draw three smaller triangles inside each sub-triangle
        const newSize = size / 2;
        const newHeight = newSize * triangleHeight;
        drawSierpinski(x, y - newHeight / 2, newSize, depth - 1);
        drawSierpinski(x - newSize / 2, y + newHeight / 2, newSize, depth - 1);
        drawSierpinski(x + newSize / 2, y + newHeight / 2, newSize, depth - 1);
      }
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawSierpinski(canvas.width / 2, canvas.height / 1.5, initialSize, 4);
      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>
